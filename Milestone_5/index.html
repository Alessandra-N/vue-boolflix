<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- CSS -->
    <link rel="stylesheet" href="./assets/css/style.css">
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/aa8b984e32.js" crossorigin="anonymous"></script>
    <!-- Google Fonts  -->
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Acme&family=Lobster&display=swap" rel="stylesheet">
  </head>

  <body>
      
    <div id="app">

      <header>

        <nav class="header_box d-flex justify-content-between align-items-center">

          <i class="fas fa-film"></i>
          <h1>Welcome to BoolFlix</h1>
          <div class="form_box d-flex flex-column align-items-center">

            <select v-model="selected">
              <option>Select by genre...</option>
              <option v-for="genre in genres" :value="genre.id">{{genre.name}}</option>
            </select>

            <div class="input">
              <input type="text" placeholder="Search by title" v-model="searchedMovie">
              <button @click="searchMovies">Cerca</button>
            </div>
            
          </div>

        </nav>

      </header>

      <main>

        <div class="movies d-flex flex-wrap justify-content-around">
          
          <div class="movie_card d-flex flex-column justify-content-center" v-for="movie in movies" v-if="selected === 'Select by genre...' || movie.genre_ids.includes(selected)">

            <img class="position-absolute locandina justify-self-center" :src="'https://image.tmdb.org/t/p/w300/' + movie.poster_path" alt=""
            onerror="this.onerror=null;this.src='https://www.drhelpdesk.in/upload/product/product_one16184778601.jpg';">
            
            <div class="card_texts d-flex flex-column justify-content-between">
              <div class="movie_title">Movie title: {{ movie.title }} </div>
              <div class="movie_title">Original title: {{ movie.original_title }} </div>
              <div class="movie_title">
                Language:
                <img class="flag" :src="'https://flagcdn.com/40x30/' + movie.original_language + '.png'"
                onerror="this.onerror=null;this.src='http://www.silverskytravel.com/img/image-not-available.jpg';">
              </div>

              <div class="summary movie_title">Summary: {{ movie.overview }}</div>
            </div>
            
            <div class="movie_title">
              Vote:
              <span v-for="n in Math.ceil(movie.vote_average % 2)">
                <i class="fas fa-star"></i>
              </span>

              <span v-for="n in (5 - Math.ceil(movie.vote_average % 2))">
                <i class="far fa-star"></i>
              </span>
            </div>
        
          </div>

        </div>

        <div class="tv_series d-flex flex-wrap justify-content-around">
          
          <div class="movie_card d-flex flex-column align-items-center justify-content-between" v-for="tvSerie in tvSeries" v-if="selected === 'Select by genre...' || tvSerie.genre_ids.includes(selected)">
            
            <img class="position-absolute locandina justify-self-center" :src="'https://image.tmdb.org/t/p/w300/' + tvSerie.poster_path" alt=""
            onerror="this.onerror=null;this.src='https://www.drhelpdesk.in/upload/product/product_one16184778601.jpg';">
            
            <div class="card_texts">
              <div class="movie_title">TV serie title: {{ tvSerie.title }} </div>
              <div class="movie_title">Original title: {{ tvSerie.original_title }} </div>
              <div class="movie_title d-flex jsutify-content-center">
                Language:
                <img class="flag" :src="'https://flagcdn.com/40x30/' + tvSerie.original_language + '.png'"
                onerror="this.onerror=null;this.src='http://www.silverskytravel.com/img/image-not-available.jpg';">
              </div>

              <div class="summary movie_title">Summary: {{ tvSerie.overview }}</div>
            </div>

            <div class="movie_title">
              Vote:
              <span v-for="n in Math.ceil(tvSerie.vote_average % 2)">
                <i class="fas fa-star"></i>
              </span>

              <span v-for="n in (5 - Math.ceil(tvSerie.vote_average % 2))">
                <i class="far fa-star"></i>
              </span>
            </div>
        
          </div>

        </div>
            
      </main>
        

    </div>
    
    <!-- Vue JS -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <!-- AXIOS -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- JS -->
    <script src="./assets/js/main.js"></script>
  </body>

</html>